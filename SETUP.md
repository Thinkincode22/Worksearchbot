# Інструкція з налаштування та запуску бота

## Крок 1: Встановлення залежностей

```bash
# Створіть віртуальне середовище
python -m venv venv

# Активуйте віртуальне середовище
# На macOS/Linux:
source venv/bin/activate
# На Windows:
# venv\Scripts\activate

# Встановіть залежності
pip install -r requirements.txt
```

## Крок 2: Налаштування конфігурації

1. Створіть файл `.env` на основі `env.example`:
```bash
cp env.example .env
```

2. Відредагуйте `.env` та додайте ваш Telegram Bot Token:
```
TELEGRAM_BOT_TOKEN=ваш_токен_тут
```

### Як отримати Telegram Bot Token:

1. Відкрийте Telegram та знайдіть [@BotFather](https://t.me/BotFather)
2. Надішліть команду `/newbot`
3. Дотримуйтесь інструкцій та отримайте токен
4. Вставте токен у файл `.env`

## Крок 3: Налаштування бази даних

### Варіант 1: SQLite (простий, для тестування)

Файл `.env` вже налаштований на SQLite за замовчуванням:
```
DATABASE_URL=sqlite:///./worksearchbot.db
```

### Варіант 2: PostgreSQL (рекомендовано для продакшену)

1. Встановіть PostgreSQL
2. Створіть базу даних:
```sql
CREATE DATABASE worksearchbot;
```

3. Оновіть `.env`:
```
DATABASE_URL=postgresql://user:password@localhost:5432/worksearchbot
```

## Крок 4: Ініціалізація бази даних

База даних буде автоматично створена при першому запуску бота.

Або виконайте вручну:
```python
from database.database import init_db
init_db()
```

## Крок 5: Запуск бота

```bash
python main.py
```

Бот повинен запуститися та показати повідомлення про успішну ініціалізацію.

## Крок 6: Тестування

1. Відкрийте Telegram та знайдіть вашого бота
2. Надішліть команду `/start`
3. Перевірте роботу команд:
   - `/search` - пошук вакансій
   - `/filters` - налаштування фільтрів
   - `/favorites` - улюблені вакансії
   - `/stats` - статистика

## Налаштування скрапінгу

Скрапінг налаштовується в `.env`:

```
SCRAPING_ENABLED=true
SCRAPING_INTERVAL_MINUTES=60
```

Бот автоматично буде збирати вакансії з налаштованих джерел кожні 60 хвилин.

## Розв'язання проблем

### Помилка "TELEGRAM_BOT_TOKEN не встановлено"
- Перевірте, чи файл `.env` існує
- Перевірте, чи токен правильно вказаний у `.env`

### Помилки з базою даних
- Перевірте правильність DATABASE_URL
- Переконайтеся, що PostgreSQL запущений (якщо використовуєте PostgreSQL)
- Перевірте права доступу до бази даних

### Бот не відповідає
- Перевірте логи у файлі `logs/bot.log`
- Переконайтеся, що бот запущений
- Перевірте інтернет-з'єднання

## Структура проекту

```
WorkSearchBot/
├── bot/              # Код Telegram бота
│   ├── handlers/     # Обробники команд
│   ├── keyboards/   # Клавіатури
│   ├── utils/        # Утиліти
│   └── middlewares/ # Middleware
├── scraper/          # Модуль парсингу
│   └── scrapers/     # Конкретні скрапери
├── database/         # Моделі та робота з БД
├── config/           # Конфігурація
├── logs/             # Логи (створюється автоматично)
└── main.py          # Точка входу
```

## Наступні кроки

1. Додайте більше скраперів у `scraper/scrapers/`
2. Налаштуйте фільтри та підписки
3. Додайте адмін-панель
4. Налаштуйте моніторинг та логи

## Підтримка

Якщо виникли проблеми, перевірте:
- Логи у `logs/bot.log`
- Документацію у `README.md`
- Детальний план у `PLAN.md`
